# Product Requirements Document (PRD)
## 產品名稱：易經數字占卜網頁應用
### 版本：v1.0
### 日期：2025-09-23
### 作者：Cascade (AI 助理)

---

## 1. 產品概述
這是一款簡易的全端網頁應用，使用 Python Flask 作為後端框架，提供基於易經原理的數字占卜服務。用戶可以透過網頁介面觸發隨機生成兩個 1 到 100 之間的數字，然後根據這些數字查詢對應的易經卦象，並顯示相關的占卜解釋。應用旨在提供輕鬆、娛樂性的占卜體驗，結合傳統易經文化與現代網頁技術，適合個人娛樂或輕鬆查詢使用。

### 1.1 產品目標
- **主要目標**：讓用戶能夠快速、隨機生成兩個數字，並基於易經進行簡單的占卜解讀，促進文化娛樂和學習。
- **次要目標**：提供直觀的網頁介面，支持移動端和桌面端訪問，增強用戶互動性。
- **解決的問題**：傳統易經占卜過程複雜（需手動拋硬幣或查書），本應用簡化為數字隨機生成，降低門檻，提供即時結果。

### 1.2 產品範圍
- **包含**：後端 API 生成隨機數字和易經解讀；前端網頁顯示結果和用戶互動。
- **不包含**：用戶註冊/登入系統、歷史記錄存儲、進階易經解讀（如多卦分析）、付費功能。

---

## 2. 功能需求
應用應包含以下核心功能，按優先級分為高、中、低。

### 2.1 核心功能（高優先級）
- **隨機數字生成**：
  - 後端 API 端點：`/generate`（GET 或 POST）。
  - 功能：生成兩個隨機整數，範圍為 1 到 100（包含 1 和 100）。
  - 實現：使用 Python 的 `random` 模組或類似工具確保真隨機。
- **易經占卜解讀**：
  - 基於兩個數字，將其轉換為易經卦象。
    - 規則：兩個數字的總和（或特定算法）映射到 64 卦之一（例如，總和 % 64 對應卦名）。
    - 包含基本解釋：顯示卦名、卦象描述、簡短占卜建議（例如，「吉利」或「需謹慎」）。
  - 後端 API 端點：`/interpret`（POST），接收兩個數字，返回卦象和解讀。
- **前端網頁介面**：
  - 首頁：顯示「開始占卜」按鈕。
  - 結果頁面：顯示兩個數字、對應卦名、卦象圖片（可選，靜態圖片或 SVG）、解讀文字。
  - 互動：按鈕觸發 API 調用，結果即時顯示（無需刷新頁面，使用 AJAX）。

### 2.2 輔助功能（中優先級）
- **錯誤處理**：如果數字生成失敗或 API 出錯，顯示友好錯誤訊息。
- **回應式設計**：支持手機、平板和桌面瀏覽器。
- **簡單動畫**：結果顯示時添加淡入效果，提升用戶體驗。

### 2.3 未來功能（低優先級）
- 添加多語言支持（例如，英文版）。
- 集成歷史查詢記錄（需資料庫）。
- 擴展易經解讀深度（更多卦象細節）。

---

## 3. 非功能需求
- **性能**：頁面載入時間 < 2 秒；API 響應時間 < 1 秒。
- **可用性**：99% uptime，無明顯故障。
- **安全性**：無需用戶資料存儲，但確保 API 不暴露敏感資訊；防止簡單的注入攻擊。
- **兼容性**：支持 Chrome、Firefox、Safari、Edge 等主流瀏覽器；Python 3.8+。
- **可維護性**：代碼結構清晰，使用模組化設計，便於擴展。

---

## 4. 技術需求
### 4.1 技術棧
- **後端**：Python Flask（輕量級框架，適合小型應用）。
  - 依賴：Flask, random (內建)，requests (若需外部 API)。
- **前端**：HTML5, CSS3, JavaScript (ES6+)。
  - 框架：無需額外框架，或可選用輕量如 jQuery 以簡化 AJAX。
- **部署**：本地開發使用 Flask 內建伺服器；生產環境可部署到 Heroku 或 AWS。
- **資料存儲**：無需資料庫；易經卦象資料可硬編碼在 Python 字典中，或從靜態 JSON 檔案讀取。
- **API 設計**：RESTful 風格，JSON 格式回應。

### 4.2 架構圖（簡要）
- **前端**：用戶瀏覽器 → HTML/JS → AJAX 請求 → 後端 API。
- **後端**：Flask 伺服器 → 處理請求 → 生成數字 → 查詢易經映射 → 返回結果。

---

## 5. 用戶故事和使用流程
### 5.1 用戶故事
- **作為一位好奇的用戶**，我希望能夠點擊按鈕，快速獲得兩個隨機數字和對應的易經占卜結果，以滿足我的娛樂需求，而不需要複雜的操作。
- **作為一位學習者**，我希望應用提供簡單的易經介紹，讓我能邊玩邊學。

### 5.2 使用流程
1. 用戶訪問首頁，點擊「開始占卜」按鈕。
2. 前端發送請求到後端，生成兩個隨機數字。
3. 後端返回數字和易經解讀。
4. 前端顯示結果，包括數字、卦名和解釋。
5. 用戶可重複占卜或離開。

---

## 6. 風險和假設
- **風險**：
  - 易經解讀準確性：需確保映射規則正確，避免誤導用戶（建議添加免責聲明）。
  - 依賴隨機性：若用戶懷疑隨機性，可添加種子設置功能。
- **假設**：
  - 用戶對易經有基本認識；若無，可在頁面添加簡短說明。
  - 應用為娛樂用途，不作為專業占卜工具。
  - 開發時間：假設 1-2 周內完成基本版本。

---

## 7. 成功指標
- **用戶指標**：每日活躍用戶 > 100；平均停留時間 > 2 分鐘。
- **技術指標**：無重大錯誤率；用戶滿意度調查（簡單表單）得分 > 4/5。
- **業務指標**：完成基本版本並成功部署。

---

## 8. 開發計劃和里程碑
- **階段 1**：設置 Flask 後端，實現數字生成和基本 API（1-2 天）。
- **階段 2**：開發前端介面，集成 AJAX（1-2 天）。
- **階段 3**：添加易經映射和解讀（1 天）。
- **階段 4**：測試、優化和部署（1-2 天）。
- **總時程**：1 周。

---

